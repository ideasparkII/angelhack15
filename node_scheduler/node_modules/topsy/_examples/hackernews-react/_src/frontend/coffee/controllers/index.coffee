define [
  'react'
  'collections/articles'
  'controllers/controller'
  'jsx/preview'
], (React, Articles, Controller, PreviewComponent) ->

  class IndexController extends Controller

    renderView: ->
      (articles = new Articles).fetch().then (resp) ->
        $el = $('#topsyHNReact').get(0)
        React.renderComponent(
          `<PreviewComponent articles={ articles } />`
          $el
        )

