define [
  'controllers/index'
], (IndexController) ->

  class Router extends Backbone.Router
    routes:
      "": "index"

    index: (params) ->
      @setController(IndexController, params)

    setController: (Controller, params) ->
      if @controller?
        @controller.stop()
        if @controller instanceof Controller
          return @controller.start(params)
      (@controller = new Controller).start(params)

