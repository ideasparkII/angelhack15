
###
Gitter
###

Q        = require('q')
{ exec } = require('child_process')

module.exports = (devDir, callback) ->

  deferred = Q.defer()

  cmd = [
    'git init'
    'git add -A'
    'git commit -m "Project shocked via Topsy"'
  ].join(' && ')

  exec cmd, cwd: devDir, (err, stdout, stderr) ->
    deferred.reject(new Error(err)) if err
    deferred.resolve(gitter: true)
    do callback if callback

  deferred.promise

